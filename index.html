<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Game Collection</title>
    <style>
        /* General Styles */
        body {
            font-family: Arial, sans-serif;
            background-color: #1a1a1a;
            color: #fff;
            margin: 0;
            padding: 0;
        }

        .container {
            margin: 0 auto;
            text-align: center;
        }

        .button-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            margin-top: 10px;
        }

        .square_btn img {
            width: 103px;
            height: 103px;
        }

        .square_btn {
            display: inline-block;
            text-align: center;
            height: 115px;
            width: 115px;
            padding: 30px;
            text-decoration: none;
            text-align: center;
            border: solid 2px transparent;
            border-radius: 5px;
            transition: .2s;
        }

        .square_btn:hover {
            background: rgba(255, 255, 255, 0.144);
            color: white;
            border: solid 2px rgba(255, 255, 255, 0.26);
            border-radius: 5px;
            transform: scale(1.09);
            transition: 0.2s;
        }

        button img {
            width: 100%;
            height: 100%;
        }

        .button-container>button {
            width: calc(25% - 20px);
        }

        .button-container>button:nth-child(4n+1) {
            margin-left: 0;
        }

        .button-container>button:nth-child(n+5) {
            margin-top: 20px;
        }

        @keyframes fade-in {
            0% {
                opacity: 0;
            }

            100% {
                opacity: 1;
            }
        }
    </style>
</head>
<body>

    <div class="container">
        <div id="game-cards" class="button-container"></div>
    </div>

    <script>
        // List of games (your original list)
        const gamesList = [
            "10minutestilldawn", "2048cupcakes", "2048", "3dminigolf", "asmallworldcup",
            "agentwalkervsskibidi", "amongus", "animalarena", "armedforcesio", "awesometanks2",
            "backrooms", "baconmaydie", "balldodge", "bankrobbery2", "bankrobbery", "basketrandom",
            "basketballstars", "battlewheels", "battleops", "bigtowertinysquare", "bitlife",
            "blockpost", "blumgiball", "blumgibloom", "blumgicastle", "blumgidragon", "blumgiracers", "blumgirocket",
            "blumgislime", "blumgisoccer", "bouncybasketball", "buenosaires", "bulletbros", "bumpercars",
            "burgerbounty", "burritobison", "candycrush", "chicago", "chickenmerge", "choppyorc", "classicbackgammon",
            "clusterrush", "coloron", "cookieclicker", "coreball", "cowbay", "crazybikes", "crazycars", "crossyroad",
            "csgo", "cyberpunkresistance", "dadish2", "dadish3", "dadish3d", "dadish", "dayofmeatcastle",
            "dayofmeatradiation", "deathrun3d", "dreadheadparkour", "driftboss", "drivemad", "dune", "eaglercraft",
            "economical2", "economical", "eggycar", "epicshooter", "fantasyfest", "fishsquad", "flipbros", "fourcolors",
            "funnybattle2", "funnybattle", "funnyshooter2", "funnyshooter", "geometrydashscratch", "geometrydash",
            "getawayshootout", "gladihoppers", "gobble", "golordiggerfrvr", "golorfull", "gooberworld", "greeceodyssey",
            "greyboxtesting", "gunspin", "happywheels", "hauntedhood", "hawaii", "headsoccer2023", "heftyshamandeluxe",
            "hideandsmash", "hordekiller", "idleants", "idlebreakout", "idlefarmingbusiness", "idlegang",
            "idlelightcity", "idleminingempire", "idlemoneytree", "idlepetbusiness", "idlestartuptycoon",
            "idletoliettycoon", "ironsnout", "jacksmith", "justfalllol", "karlsont", "kiwificlicker", "ks2teams",
            "leveldevil", "london", "mastercheckers", "masterchess", "mergeparty", "mergetycoon", "mimelet", "monaco",
            "monkeymart", "monkeytypelite", "monstertracks", "motox3m", "murder", "ngon", "neonflytron", "newsupermariobros",
            "newyork"
        ];

        // Shuffle the games list
        function shuffleArray(arr) {
            for (let i = arr.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [arr[i], arr[j]] = [arr[j], arr[i]];
            }
        }

        // Image fallback function
        function getImageSrc(gameName) {
            const imageBasePath = '/public/assets/images/';
            const possibleExtensions = ['.png', '.jpg', '.jpeg', '.gif'];

            // Try all extensions
            for (let ext of possibleExtensions) {
                const variations = [
                    gameName.toLowerCase(),
                    gameName.toLowerCase().replace(/-/g, ''),
                    gameName.toLowerCase().replace(/\s+/g, ''),
                    gameName.toLowerCase().replace(/ /g, '-'),
                    gameName.toUpperCase(),
                ];

                for (let variation of variations) {
                    const imgPath = `${imageBasePath}${variation}${ext}`;
                    const img = new Image();
                    img.src = imgPath;
                    img.onload = () => {
                        return img.src;
                    };
                }
            }

            // Default image if none found
            return '/public/assets/images/defaultgame.png';
        }

        // Create game cards dynamically
        function loadGameCards() {
            const gameCardsContainer = document.getElementById('game-cards');
            shuffleArray(gamesList);

            gamesList.forEach((game, index) => {
                const gameCard = document.createElement('a');
                gameCard.classList.add('square_btn');
                gameCard.href = `/games/${game}.html`; // Assuming each game has its own page

                const image = document.createElement('img');
                image.src = getImageSrc(game);
                gameCard.appendChild(image);

                const title = document.createElement('h3');
                title.textContent = game.replace(/([A-Z])/g, ' $1').trim(); // Convert camelCase to normal text
                gameCard.appendChild(title);

                if (index % 5 === 0) {  // Mark as "Recommended" every 5th game
                    const recommendedLabel = document.createElement('div');
                    recommendedLabel.classList.add('recommended');
                    recommendedLabel.textContent = 'ðŸ”¥ Recommended';
                    gameCard.appendChild(recommendedLabel);
                }

                gameCardsContainer.appendChild(gameCard);
            });
        }

        loadGameCards();
    </script>

</body>
</html>
